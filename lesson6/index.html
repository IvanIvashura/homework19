<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Задача 2</title>
  <link rel="stylesheet" href="../style.css">
</head>

<body>

  <script>
    // Задача 6. Дано список спортсменів.Потрібно сформувати список тих, які будуть брати участь у змаганні.
    // При цьому є два стовпці.В одному відображені всі спортсмени, в іншому – список тих, хто був вибраний.
    // При натисканні на зелену стрілку спортсмен переміщається у список для змагань.
    // При натисканні на червону стрілку спортсмен переміщається у загальний список.

    class GetSportsmans {
      constructor(initData) {
        this.arr = initData;
        this.clearArr = [];
      }

      getTable() {
        let container = document.createElement('div');
        container.className = 'container__sport';

        let allMembers = document.createElement('div');
        allMembers.className = 'left__column';
        this.arr.forEach((element) => {
          let memberElement = document.createElement('div');
          memberElement.className = 'member__element';
          memberElement.innerText = element;

          let button = document.createElement('button');
          button.className = 'member__add';
          button.innerText = ' ==>';

          button.addEventListener('click', this.getAdd.bind(this, element));

          memberElement.appendChild(button);
          allMembers.appendChild(memberElement);
        });
        container.appendChild(allMembers);

        let choiceMembers = document.createElement('div');
        choiceMembers.className = 'right__column';
        this.clearArr.forEach((element) => {
          let memberElement = document.createElement('div');
          memberElement.className = 'member__element';
          memberElement.innerText = element;

          let button = document.createElement('button');
          button.className = 'member__remove';
          button.innerText = '<==';

          button.addEventListener('click', this.getRemove.bind(this, element));

          memberElement.appendChild(button);
          choiceMembers.appendChild(memberElement);
        });
        container.appendChild(choiceMembers);

        document.body.appendChild(container);
      }

      getAdd(element) {
        this.arr = this.arr.filter((item) => item !== element);
        this.clearArr.push(element);
        this.refreshTable();
      }

      getRemove(element) {
        this.clearArr = this.clearArr.filter((item) => item !== element);
        this.arr.push(element);
        this.refreshTable();
      }

      refreshTable() {
        document.body.innerHTML = '';
        this.getTable();
      }
    }

    let arrOfSportsman = ['Ivan Hal', 'Sara Dopp', 'Jhonny Depp', 'Sergey Novikov', 'Alex Marcinkevich'];
    const sportsmanTable = new GetSportsmans(arrOfSportsman);
    sportsmanTable.getTable();



  </script>

  </script>
</body>

</html>